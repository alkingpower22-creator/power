<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Voxa Store â€” Marketplace Demo</title>
  <style>
    :root{
      --bg:#0b1220;
      --panel2:#0c162b;
      --text:#eaf0ff;
      --muted:#a9b7d7;
      --brand:#4aa3ff;
      --ok:#29d17d;
      --warn:#ffcc66;
      --danger:#ff5c7a;
      --border:rgba(255,255,255,.08);
      --shadow: 0 18px 50px rgba(0,0,0,.45);
      --radius:18px;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: system-ui, -apple-system, "Segoe UI", Tahoma, Arial, sans-serif;
      background: radial-gradient(1200px 600px at 80% -10%, rgba(74,163,255,.25), transparent 60%),
                  radial-gradient(900px 500px at 20% 0%, rgba(41,209,125,.16), transparent 55%),
                  var(--bg);
      color:var(--text);
      min-height:100vh;
    }

    .app{display:grid;grid-template-columns:320px 1fr;min-height:100vh}
    aside{
      position:sticky;top:0;height:100vh;padding:18px;
      background: linear-gradient(180deg, rgba(255,255,255,.04), transparent 40%), var(--panel2);
      border-left:1px solid var(--border);
    }
    main{padding:24px 24px 40px}

    .topbar{display:none;position:sticky;top:0;z-index:10;padding:14px 16px;
      background: rgba(11,18,32,.7);backdrop-filter: blur(10px);
      border-bottom:1px solid var(--border);
    }
    .burger{border:1px solid var(--border);background: rgba(255,255,255,.04);color:var(--text);
      border-radius:14px;padding:10px 12px;cursor:pointer;
    }
    .brandline{display:flex;gap:10px;align-items:center;justify-content:space-between}
    .brandline .title{font-weight:900;letter-spacing:.2px}

    @media (max-width:980px){
      .app{grid-template-columns:1fr}
      aside{
        position:fixed;inset:0;height:auto;width:min(92vw,360px);
        transform: translateX(110%);transition:.25s ease;z-index:50;
        border-left:none;border-right:1px solid var(--border);
      }
      aside.open{transform: translateX(0)}
      .overlay{position:fixed;inset:0;background: rgba(0,0,0,.55);
        z-index:40;opacity:0;pointer-events:none;transition:.2s ease;
      }
      .overlay.show{opacity:1;pointer-events:auto}
      .topbar{display:block}
      main{padding:18px 16px 30px}
    }

    .logo{
      display:flex;gap:12px;align-items:center;padding:14px;
      border:1px solid var(--border);border-radius: var(--radius);
      background: rgba(255,255,255,.04);box-shadow: var(--shadow);
    }
    .badge{
      width:44px;height:44px;border-radius:14px;
      background: linear-gradient(135deg, rgba(74,163,255,.9), rgba(41,209,125,.7));
      display:grid;place-items:center;font-weight:900;
    }
    .logo h1{margin:0;font-size:16px;line-height:1.2}
    .logo p{margin:3px 0 0;color:var(--muted);font-size:12px}

    nav{margin-top:16px;display:flex;flex-direction:column;gap:10px}
    .navbtn{
      display:flex;gap:10px;align-items:center;width:100%;
      padding:12px 14px;border-radius:16px;border:1px solid var(--border);
      background: rgba(255,255,255,.03);color:var(--text);cursor:pointer;
      text-align:right;transition:.15s ease;
    }
    .navbtn:hover{transform: translateY(-1px); background: rgba(255,255,255,.06)}
    .navbtn.active{
      background: rgba(74,163,255,.14);border-color: rgba(74,163,255,.35);
      box-shadow: 0 12px 30px rgba(74,163,255,.12);
    }
    .navicon{
      width:34px;height:34px;border-radius:12px;background: rgba(255,255,255,.06);
      display:grid;place-items:center;border:1px solid var(--border);flex:0 0 auto;
    }
    .navtext .t{font-weight:800}
    .navtext .d{font-size:12px;color:var(--muted);margin-top:2px}

    .sidecard{
      margin-top:14px;padding:14px;border-radius: var(--radius);
      border:1px solid var(--border);background: rgba(255,255,255,.03);
    }
    .small{color:var(--muted);font-size:12px;line-height:1.6}
    .rowflex{display:flex;gap:10px;align-items:center;justify-content:space-between;flex-wrap:wrap}

    .btn{
      cursor:pointer;border:1px solid var(--border);
      background: rgba(255,255,255,.04);color:var(--text);
      padding:10px 12px;border-radius:14px;font-weight:800;
    }
    .btn.primary{border-color: rgba(74,163,255,.45);background: rgba(74,163,255,.16)}
    .btn.ok{border-color: rgba(41,209,125,.45);background: rgba(41,209,125,.14)}
    .btn.danger{border-color: rgba(255,92,122,.45);background: rgba(255,92,122,.14)}
    .btn:disabled{opacity:.55;cursor:not-allowed}

    .pilllink{
      display:inline-flex;align-items:center;gap:10px;margin-top:10px;
      padding:10px 12px;border-radius:14px;border:1px solid rgba(41,209,125,.35);
      background: rgba(41,209,125,.10);color:var(--text);text-decoration:none;font-weight:800;
    }

    .pagehead{display:flex;justify-content:space-between;align-items:flex-start;gap:16px;margin-bottom:14px}
    .pagehead h2{margin:0;font-size:24px;letter-spacing:.2px}
    .pagehead p{margin:6px 0 0;color:var(--muted);line-height:1.7;max-width:70ch}
    .chiprow{display:flex;flex-wrap:wrap;gap:8px;justify-content:flex-end}
    .chip{
      font-size:12px;padding:7px 10px;border-radius:999px;border:1px solid var(--border);
      background: rgba(255,255,255,.03);color:var(--muted);
    }

    .grid{display:grid;grid-template-columns: repeat(12, 1fr);gap:14px;margin-top:16px}
    .card{
      grid-column: span 6;padding:16px;border-radius: var(--radius);border:1px solid var(--border);
      background: linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.02));
      box-shadow: var(--shadow);min-height:120px;
    }
    .card h3{margin:0 0 8px;font-size:16px}
    .card p{margin:0;color:var(--muted);line-height:1.7}
    .card .meta{margin-top:12px;display:flex;gap:8px;flex-wrap:wrap}
    .tag{font-size:12px;padding:6px 10px;border-radius:999px;border:1px solid var(--border);background: rgba(255,255,255,.03)}

    @media (max-width:980px){
      .card{grid-column: span 12}
      .pagehead{flex-direction:column;align-items:flex-start}
      .chiprow{justify-content:flex-start}
    }

    /* Shop */
    .tabs{display:flex;gap:8px;flex-wrap:wrap;margin-top:14px}
    .tab{
      border:1px solid var(--border);background: rgba(255,255,255,.03);color:var(--text);
      padding:8px 10px;border-radius:999px;font-weight:900;cursor:pointer;font-size:12px;
    }
    .tab.active{border-color: rgba(74,163,255,.45);background: rgba(74,163,255,.16)}
    .plus{
      display:inline-flex;align-items:center;justify-content:center;
      width:28px;height:28px;border-radius:10px;border:1px solid rgba(41,209,125,.45);
      background: rgba(41,209,125,.12);font-weight:900;color: var(--text);
      margin-inline-start: 8px;cursor:pointer;
    }

    .toolbar{
      display:flex;gap:10px;flex-wrap:wrap;align-items:center;justify-content:space-between;margin-top:14px
    }
    .search{
      flex:1 1 280px;display:flex;gap:10px;align-items:center;
      padding:10px 12px;border-radius:16px;border:1px solid var(--border);
      background: rgba(255,255,255,.03);
    }
    .search input{
      width:100%;background: transparent;border:0;outline:none;color:var(--text);font-size:14px;
    }

    .product{grid-column: span 4;padding:14px;border-radius: var(--radius);border:1px solid var(--border);background: rgba(255,255,255,.03)}
    .pimg{
      height:120px;border-radius: 16px;border:1px solid var(--border);
      background:
        radial-gradient(220px 100px at 30% 20%, rgba(74,163,255,.35), transparent 60%),
        radial-gradient(220px 100px at 70% 80%, rgba(41,209,125,.25), transparent 60%),
        rgba(255,255,255,.04);
      display:flex;align-items:flex-end;justify-content:space-between;padding:10px 12px;margin-bottom:12px;
    }
    .price{font-weight:900;padding:6px 10px;border-radius:999px;border:1px solid rgba(255,255,255,.12);background: rgba(0,0,0,.25);font-size:12px}
    .stock{font-size:12px;padding:6px 10px;border-radius:999px;border:1px solid rgba(41,209,125,.35);background: rgba(41,209,125,.12)}
    .product h4{margin:0 0 6px;font-size:15px}
    .product .desc{margin:0;color:var(--muted);font-size:13px;line-height:1.6}
    .product .row{margin-top:12px;display:flex;gap:10px;align-items:center;justify-content:space-between;flex-wrap:wrap}

    @media (max-width:980px){ .product{grid-column: span 12} }
    @media (min-width:981px) and (max-width:1200px){ .product{grid-column: span 6} }

    .emptybox{
      grid-column: span 12;padding:18px;border-radius: var(--radius);
      border:1px dashed rgba(255,255,255,.18);background: rgba(255,255,255,.02);
      color: var(--muted);line-height:1.8;
    }

    /* Forms / Modals */
    section.page{display:none}
    section.page.active{display:block}
    footer{margin-top:22px;color:rgba(255,255,255,.45);font-size:12px}
    .hr{height:1px;background:var(--border);margin:14px 0}
    .note{margin-top:10px;color:var(--muted);font-size:12px;line-height:1.7}

    form{
      margin-top:12px;max-width: 820px;border:1px solid var(--border);
      border-radius: var(--radius);background: rgba(255,255,255,.03);
      padding:16px;box-shadow: var(--shadow);
    }
    .fgrid{display:grid;grid-template-columns: 1fr 1fr;gap:12px}
    @media (max-width:980px){ .fgrid{grid-template-columns: 1fr} }
    label{font-size:12px;color:var(--muted);display:block;margin-bottom:6px}
    input, textarea, select{
      width:100%;border-radius: 14px;border:1px solid var(--border);
      background: rgba(0,0,0,.18);padding:10px 12px;color:var(--text);
      outline:none;font-size:14px;
    }
    textarea{min-height:110px;resize:vertical}
    .factions{display:flex;gap:10px;flex-wrap:wrap;margin-top:12px}

    .modalWrap{
      position:fixed;inset:0;display:none;place-items:center;z-index:100;
      background: rgba(0,0,0,.6);padding:18px;
    }
    .modal{
      width: min(760px, 95vw);
      border-radius: var(--radius);border:1px solid var(--border);
      background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
      box-shadow: var(--shadow);padding:16px;
    }
    .modalHead{display:flex;gap:10px;align-items:center;justify-content:space-between}
    .modalHead h3{margin:0}
    .x{border:1px solid var(--border); background: rgba(255,255,255,.04); color:var(--text); border-radius:12px; padding:8px 10px; cursor:pointer}

    .payGrid{display:grid;grid-template-columns: repeat(12,1fr);gap:12px;margin-top:12px}
    .payItem{
      grid-column: span 6;
      border:1px solid var(--border);
      background: rgba(255,255,255,.03);
      border-radius: 16px;
      padding:12px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      flex-wrap:wrap;
    }
    .toggleSmall{display:flex;align-items:center;gap:8px}
    .toggleSmall input{accent-color: var(--ok); width:18px; height:18px}
    @media (max-width:980px){ .payItem{grid-column: span 12} }
  </style>
</head>
<body>

  <div class="topbar">
    <div class="brandline">
      <button class="burger" id="openMenu">â˜° Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©</button>
      <div class="title">Voxa Store</div>
    </div>
  </div>
  <div class="overlay" id="overlay"></div>

  <div class="app">
    <aside id="sidebar">
      <div class="logo">
        <div class="badge">VX</div>
        <div>
          <h1>Voxa Store</h1>
          <p>Marketplace Demo â€” Seller Locked</p>
        </div>
      </div>

      <nav>
        <button class="navbtn active" data-page="about">
          <div class="navicon">â„¹ï¸</div>
          <div class="navtext">
            <div class="t">About us</div>
            <div class="d">Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¹Ù†Ù†Ø§</div>
          </div>
        </button>

        <button class="navbtn" data-page="shop">
          <div class="navicon">ğŸ›’</div>
          <div class="navtext">
            <div class="t">Shop</div>
            <div class="d">Ø§Ù„Ø£Ù‚Ø³Ø§Ù… ÙˆØ§Ù„Ø·Ù„Ø¨Ø§Øª</div>
          </div>
        </button>

        <button class="navbtn" data-page="contact">
          <div class="navicon">âœ‰ï¸</div>
          <div class="navtext">
            <div class="t">Contact us</div>
            <div class="d">Ø§Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§</div>
          </div>
        </button>

        <button class="navbtn" data-page="payments">
          <div class="navicon">ğŸ’³</div>
          <div class="navtext">
            <div class="t">Ù…Ø±Ø§Ø¬Ø¹Ø© Ø·Ø±Ù‚ Ø§Ù„Ø¯ÙØ¹</div>
            <div class="d">Checkout + Ø·Ø±Ù‚ Ø§Ù„Ø¯ÙØ¹</div>
          </div>
        </button>

        <button class="navbtn" data-page="support">
          <div class="navicon">ğŸ› ï¸</div>
          <div class="navtext">
            <div class="t">Ø§Ù„Ø¯Ø¹Ù… Ø§Ù„ÙÙ†ÙŠ</div>
            <div class="d">Discord Support</div>
          </div>
        </button>
      </nav>

      <div class="sidecard">
        <div class="rowflex">
          <div>
            <div style="font-weight:900;color:var(--text)">Seller Mode</div>
            <div class="small" id="sellerStatus">Ù…Ù‚ÙÙˆÙ„</div>
          </div>
          <button class="btn primary" id="sellerLoginBtn">ØªÙØ¹ÙŠÙ„</button>
          <button class="btn danger" id="sellerLogoutBtn" style="display:none">Ø®Ø±ÙˆØ¬</button>
        </div>

        <div class="small" style="margin-top:10px">
          âœ… ØªÙØ¹ÙŠÙ„ ÙˆØ¶Ø¹ Ø§Ù„Ø¨Ø§Ø¦Ø¹ Ù…Ø³Ù…ÙˆØ­ ÙÙ‚Ø· Ù„Ù€: <b style="color:var(--text)">gq_8</b> Ùˆ <b style="color:var(--text)">k_i_l_</b>
        </div>

        <a class="pilllink" href="https://discord.gg/uRfdkYg9" target="_blank" rel="noopener">ÙØªØ­ Ø§Ù„Ø¯Ø¹Ù… Ø§Ù„ÙÙ†ÙŠ Ø¹Ù„Ù‰ Discord</a>
      </div>
    </aside>

    <main>
      <!-- ABOUT -->
      <section class="page active" id="page-about">
        <div class="pagehead">
          <div>
            <h2>About us</h2>
            <p>
              Ø¥Ø­Ù†Ø§ Voxa Store â€” Ù…Ù†ØµØ© Ø¨ÙŠØ¹ ÙˆØ´Ø±Ø§Ø¡ Ù‚ÙˆÙŠØ© ğŸ’™
              Ù…Ø¹Ø§Ù†Ø§ <b>190 Ø¯Ù„ÙŠÙ„</b> Ùˆ <b>Ø¨Ø§Ø¦Ø¹ÙŠÙ† Ø¬Ø§Ù…Ø¯ÙŠÙ†</b> Ø´ØºØ§Ù„ÙŠÙ† <b>24 Ø³Ø§Ø¹Ø©</b> Ø¹Ø´Ø§Ù† ØªØ¬Ø±Ø¨ØªÙƒ ØªØ¨Ù‚Ù‰ Ø³Ø±ÙŠØ¹Ø© ÙˆØ¢Ù…Ù†Ø©.
            </p>
          </div>
          <div class="chiprow">
            <span class="chip">ğŸ“˜ 190 Ø¯Ù„ÙŠÙ„</span>
            <span class="chip">ğŸ”¥ Sellers Ø¬Ø§Ù…Ø¯ÙŠÙ†</span>
            <span class="chip">â±ï¸ 24/7 Ø´ØºØ§Ù„ÙŠÙ†</span>
          </div>
        </div>

        <div class="grid">
          <div class="card">
            <h3>Ù†Ø¸Ø§Ù… Ø§Ù„Ø³ÙˆÙ‚</h3>
            <p>Ø§Ù„Ø£Ù‚Ø³Ø§Ù… ÙØ§Ø¶ÙŠØ© Ø§ÙØªØ±Ø§Ø¶ÙŠÙ‹Ø§ â€” Ø§Ù„Ø¨Ø§Ø¦Ø¹ÙŠÙ† Ù‡Ù… Ø§Ù„Ù„ÙŠ ÙŠØ¶ÙŠÙÙˆØ§ Ø§Ù„Ø·Ù„Ø¨Ø§Øª.</p>
            <div class="meta">
              <span class="tag">Multi Sellers</span>
              <span class="tag">Organized</span>
              <span class="tag">Secure</span>
            </div>
          </div>
          <div class="card">
            <h3>Ø·Ø±Ù‚ Ø§Ù„Ø¯ÙØ¹</h3>
            <p>Crypto / InstaPay / PayPal / Vodafone Cash / Ø±ÙŠØ§Ù„ Ø³Ø¹ÙˆØ¯ÙŠ / AsiaCell â€” ÙˆØªØ¸Ù‡Ø± Ø­Ø³Ø¨ Ø§Ù„Ù…ØªØ§Ø­.</p>
            <div class="meta">
              <span class="tag">Payment Review</span>
              <span class="tag">Availability</span>
              <span class="tag">Flexible</span>
            </div>
          </div>
        </div>

        <footer>Â© Voxa Store â€” UI Demo</footer>
      </section>

      <!-- SHOP -->
      <section class="page" id="page-shop">
        <div class="pagehead">
          <div>
            <h2>Shop</h2>
            <p>
              Ø§Ø®ØªØ§Ø± Ø§Ù„Ù‚Ø³Ù… Ù…Ù† ÙÙˆÙ‚. Ø§Ù„Ø£Ù‚Ø³Ø§Ù… ÙØ§Ø¶ÙŠØ© Ø§ÙØªØ±Ø§Ø¶ÙŠÙ‹Ø§ â€” Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª ØªØ¸Ù‡Ø± Ù„Ù…Ø§ Ø§Ù„Ø¨Ø§Ø¦Ø¹ÙŠÙ† ÙŠØ¶ÙŠÙÙˆØ§ Ø§Ù„Ø·Ù„Ø¨Ø§Øª.
            </p>
          </div>
          <div class="chiprow">
            <span class="chip" id="cartCount">ğŸ§º Ø§Ù„Ø³Ù„Ø©: 0</span>
            <span class="chip" id="cartTotal">ğŸ’° Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: 0</span>
          </div>
        </div>

        <div class="tabs" id="categoryTabs"></div>

        <div class="toolbar">
          <div class="search">
            ğŸ” <input id="searchInput" placeholder="Ø§Ø¨Ø­Ø« Ø¯Ø§Ø®Ù„ Ø§Ù„Ù‚Ø³Ù… Ø§Ù„Ø­Ø§Ù„ÙŠâ€¦" />
          </div>

          <div style="display:flex; gap:10px; flex-wrap:wrap">
            <button class="btn ok" id="checkoutBtn">Ø¥ØªÙ…Ø§Ù… Ø§Ù„Ø´Ø±Ø§Ø¡</button>
            <button class="btn danger" id="clearCart">ØªÙØ±ÙŠØº Ø§Ù„Ø³Ù„Ø©</button>
            <button class="btn primary" id="addProductBtn" style="display:none">+ Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬</button>
          </div>
        </div>

        <div class="grid" id="productsGrid"></div>

        <div class="hr"></div>
        <div class="note">
          * â€œØ¥ØªÙ…Ø§Ù… Ø§Ù„Ø´Ø±Ø§Ø¡â€ Ù‡Ù†Ø§ Ø¯ÙŠÙ…Ùˆ: ÙŠÙ†Ù‚Ù„Ùƒ Ù„ØµÙØ­Ø© <b>Ù…Ø±Ø§Ø¬Ø¹Ø© Ø·Ø±Ù‚ Ø§Ù„Ø¯ÙØ¹</b> ÙˆØªØ£ÙƒØ¯ Ø§Ù„Ø·Ù„Ø¨.
        </div>
      </section>

      <!-- CONTACT -->
      <section class="page" id="page-contact">
        <div class="pagehead">
          <div>
            <h2>Contact us</h2>
            <p>Ù„Ùˆ Ø¹Ø§ÙŠØ² Ø£ÙŠ Ù…Ø³Ø§Ø¹Ø¯Ø©ØŒ Ø§Ù„Ø£ÙØ¶Ù„ ØªØ¯Ø®Ù„ Ø§Ù„Ø¯Ø¹Ù… Ø§Ù„ÙÙ†ÙŠ Ø¹Ù„Ù‰ Discord.</p>
          </div>
        </div>
        <div class="card" style="grid-column: span 12; max-width:820px">
          <h3>ØªÙˆØ§ØµÙ„ Ø³Ø±ÙŠØ¹</h3>
          <p>Ø§Ø¯Ø®Ù„ Ø§Ù„Ø¯Ø¹Ù… Ø§Ù„ÙÙ†ÙŠ ÙˆØ§Ø¨Ø¹Ø« Ù…Ø´ÙƒÙ„ØªÙƒ â€” Ù‡ÙŠØªÙ… Ø§Ù„Ø±Ø¯ Ø¹Ù„ÙŠÙƒ.</p>
          <div class="meta">
            <a class="pilllink" href="https://discord.gg/uRfdkYg9" target="_blank" rel="noopener">Support Discord</a>
          </div>
        </div>
      </section>

      <!-- PAYMENTS -->
      <section class="page" id="page-payments">
        <div class="pagehead">
          <div>
            <h2>Ù…Ø±Ø§Ø¬Ø¹Ø© Ø·Ø±Ù‚ Ø§Ù„Ø¯ÙØ¹</h2>
            <p>Ù‡Ù†Ø§ Ø¨ØªØ±Ø§Ø¬Ø¹ Ø·Ù„Ø¨ÙƒØŒ ÙˆØªØ´ÙˆÙ Ø·Ø±Ù‚ Ø§Ù„Ø¯ÙØ¹ Ø§Ù„Ù…ØªØ§Ø­Ø© Ø­Ø§Ù„ÙŠÙ‹Ø§ØŒ ÙˆØªØ£ÙƒØ¯ Ø§Ù„Ø·Ù„Ø¨ (Demo).</p>
          </div>
          <div class="chiprow">
            <span class="chip">ğŸ§¾ Ù…Ù„Ø®Øµ Ø§Ù„Ø·Ù„Ø¨</span>
            <span class="chip">ğŸ’³ Ø§Ù„Ù…ØªØ§Ø­ ÙÙ‚Ø· ÙŠØ¸Ù‡Ø±</span>
          </div>
        </div>

        <div class="grid">
          <div class="card" style="grid-column: span 12">
            <h3>Ù…Ù„Ø®Øµ Ø§Ù„Ø³Ù„Ø©</h3>
            <div id="orderSummary" class="small" style="margin-top:10px; line-height:1.9"></div>
            <div class="meta">
              <span class="tag" id="orderTotalTag">Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: 0</span>
              <span class="tag" id="orderCountTag">Ø¹Ø¯Ø¯ Ø§Ù„Ø¹Ù†Ø§ØµØ±: 0</span>
            </div>
          </div>

          <div class="card" style="grid-column: span 12">
            <div class="rowflex">
              <h3 style="margin:0">Ø·Ø±Ù‚ Ø§Ù„Ø¯ÙØ¹ Ø§Ù„Ù…ØªØ§Ø­Ø©</h3>
              <span class="chip" id="payHint">ÙŠØªÙ… ØªØ­Ø¯ÙŠØ¯Ù‡Ø§ Ù…Ù† Ø§Ù„Ø¨Ø§Ø¦Ø¹ (Seller Mode)</span>
            </div>

            <div id="availablePaymentsBox" class="note" style="margin-top:10px"></div>

            <div class="fgrid" style="margin-top:12px">
              <div>
                <label>Ø§Ø®ØªØ§Ø± Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¯ÙØ¹</label>
                <select id="paymentMethod"></select>
              </div>
              <div>
                <label>Ù…Ù„Ø§Ø­Ø¸Ø©/Ø§Ø³Ù… Ø§Ù„Ø­Ø³Ø§Ø¨</label>
                <input id="paymentNote" placeholder="Ù…Ø«Ø§Ù„: Ø±Ù‚Ù…/ÙŠÙˆØ²Ø±/ID..." />
              </div>
            </div>

            <div class="factions">
              <button class="btn ok" id="confirmOrderBtn">ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨</button>
              <button class="btn" id="backToShopBtn">Ø±Ø¬ÙˆØ¹ Ù„Ù„Ø´ÙˆØ¨</button>
            </div>

            <div class="note" id="confirmNote"></div>
          </div>

          <!-- Seller-only payment availability editor -->
          <div class="card" id="sellerPaymentsCard" style="grid-column: span 12; display:none">
            <h3>ØªØ­ÙƒÙ… Ø§Ù„Ø¨Ø§Ø¦Ø¹: ØªÙØ¹ÙŠÙ„/ØªØ¹Ø·ÙŠÙ„ Ø·Ø±Ù‚ Ø§Ù„Ø¯ÙØ¹</h3>
            <div class="note">ÙØ¹Ù‘Ù„ Ø§Ù„Ù„ÙŠ â€œÙ…ÙˆØ¬ÙˆØ¯â€ØŒ ÙˆØ§Ù‚ÙÙ„ Ø§Ù„Ù„ÙŠ â€œÙ…Ø´ Ù…ÙˆØ¬ÙˆØ¯â€. Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ù‡ÙŠØ´ÙˆÙÙˆØ§ Ø§Ù„Ù…ØªØ§Ø­ ÙÙ‚Ø·.</div>
            <div class="payGrid" id="paymentsToggles"></div>
            <div class="factions">
              <button class="btn ok" id="savePaymentsBtn">Ø­ÙØ¸</button>
            </div>
            <div class="note" id="savePaymentsNote"></div>
          </div>
        </div>
      </section>

      <!-- SUPPORT -->
      <section class="page" id="page-support">
        <div class="pagehead">
          <div>
            <h2>Ø§Ù„Ø¯Ø¹Ù… Ø§Ù„ÙÙ†ÙŠ</h2>
            <p>Ù„Ùˆ Ù…Ø­ØªØ§Ø¬ Ù…Ø³Ø§Ø¹Ø¯Ø© ÙÙˆØ±Ù‹Ø§ â€” Ø§Ø¯Ø®Ù„ Ø³ÙŠØ±ÙØ± Ø§Ù„Ø¯ÙŠØ³ÙƒÙˆØ±Ø¯ Ù„Ù„Ø¯Ø¹Ù… Ø§Ù„ÙÙ†ÙŠ.</p>
          </div>
        </div>

        <div class="card" style="max-width:760px; grid-column: span 12">
          <h3>Ø±Ø§Ø¨Ø· Ø§Ù„Ø¯Ø¹Ù… Ø§Ù„ÙÙ†ÙŠ</h3>
          <p>Ø§Ø¶ØºØ· Ø§Ù„Ø²Ø± Ø§Ù„Ù„ÙŠ ØªØ­Øª ÙˆÙ‡ÙŠØ¯Ø®Ù„Ùƒ Ø¹Ù„Ù‰ Ø³ÙŠØ±ÙØ± Ø§Ù„Ø¯Ø¹Ù….</p>
          <div class="meta">
            <a class="pilllink" href="https://discord.gg/uRfdkYg9" target="_blank" rel="noopener">ÙØªØ­ Ø§Ù„Ø¯Ø¹Ù… Ø§Ù„ÙÙ†ÙŠ Ø¹Ù„Ù‰ Discord</a>
          </div>
        </div>
      </section>

      <footer style="margin-top:26px">ÙˆØ§Ø¬Ù‡Ø© ØªØ¬Ø±ÙŠØ¨ÙŠØ© â€” Seller Mode Ù…Ù‚ÙÙˆÙ„ Ø¥Ù„Ø§ Ù„Ù„Ø¨Ø§Ø¦Ø¹ÙŠÙ† Ø§Ù„Ù…Ø­Ø¯Ø¯ÙŠÙ†.</footer>
    </main>
  </div>

  <!-- Seller Login Modal -->
  <div class="modalWrap" id="sellerModalWrap">
    <div class="modal">
      <div class="modalHead">
        <h3>ØªÙØ¹ÙŠÙ„ Seller Mode</h3>
        <button class="x" id="closeSellerModal">âœ–</button>
      </div>
      <form id="sellerLoginForm" style="box-shadow:none; margin-top:12px">
        <div class="fgrid">
          <div>
            <label>Ø§Ø³Ù… Ø§Ù„Ø¨Ø§Ø¦Ø¹</label>
            <input name="sellerName" placeholder="gq_8 Ø£Ùˆ k_i_l_" required />
          </div>
          <div>
            <label>ÙƒÙˆØ¯ Ø§Ù„ØªÙØ¹ÙŠÙ„</label>
            <input name="secret" placeholder="Ø§ÙƒØªØ¨ Ø§Ù„ÙƒÙˆØ¯" required />
          </div>
        </div>
        <div class="factions">
          <button class="btn ok" type="submit">ØªÙØ¹ÙŠÙ„</button>
          <button class="btn" type="button" id="cancelSellerModal">Ø¥Ù„ØºØ§Ø¡</button>
        </div>
        <div class="note" id="sellerLoginNote"></div>
      </form>
    </div>
  </div>

  <!-- Add Product Modal -->
  <div class="modalWrap" id="addModalWrap">
    <div class="modal">
      <div class="modalHead">
        <h3>+ Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬ (Demo)</h3>
        <button class="x" id="closeAddModal">âœ–</button>
      </div>

      <form id="addProductForm" style="box-shadow:none; margin-top:12px">
        <div class="fgrid">
          <div>
            <label>Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬</label>
            <input required name="title" placeholder="Ù…Ø«Ø§Ù„: Nitro 1 Month" />
          </div>
          <div>
            <label>Ø§Ù„Ø³Ø¹Ø± (EGP)</label>
            <input required name="price" type="number" min="1" placeholder="Ù…Ø«Ø§Ù„: 250" />
          </div>
        </div>

        <div class="fgrid" style="margin-top:12px">
          <div>
            <label>Ø§Ù„Ù‚Ø³Ù…</label>
            <select name="category" id="modalCategory"></select>
          </div>
          <div>
            <label>Ù…ØªØ§Ø­ØŸ</label>
            <select name="stock">
              <option value="true">Ù…ØªØ§Ø­</option>
              <option value="false">ØºÙŠØ± Ù…ØªØ§Ø­</option>
            </select>
          </div>
        </div>

        <div style="margin-top:12px">
          <label>ÙˆØµÙ Ù…Ø®ØªØµØ±</label>
          <textarea required name="desc" placeholder="ÙˆØµÙ Ø³Ø±ÙŠØ¹ Ù„Ù„Ù…Ù†ØªØ¬â€¦"></textarea>
        </div>

        <div class="factions">
          <button class="btn ok" type="submit">Ø¥Ø¶Ø§ÙØ©</button>
          <button class="btn" type="button" id="cancelAddModal">Ø¥Ù„ØºØ§Ø¡</button>
        </div>

        <div class="note">* Ø§Ù„Ù…Ù†ØªØ¬ Ø¨ÙŠØªØ¶Ø§Ù ÙÙŠ Ø§Ù„Ø¯ÙŠÙ…Ùˆ Ø¯Ø§Ø®Ù„ Ù†ÙØ³ Ø§Ù„ØµÙØ­Ø© (Ù…Ø´ Ø¨ÙŠØªØ­ÙØ¸ Ø¹Ù„Ù‰ Ø³ÙŠØ±ÙØ±).</div>
      </form>
    </div>
  </div>

  <script>
    // ===== Settings (ØºÙŠØ±Ù‡Ù… Ø¨Ø±Ø§Ø­ØªÙƒ) =====
    const ALLOWED_SELLERS = new Set(["gq_8","k_i_l_"]);
    const SELLER_SECRET = "VOXA-SELLER-KEY"; // âœ… ØºÙŠÙ‘Ø±Ù‡Ø§ Ù„ÙƒÙ„Ù…Ø© Ø³Ø± Ø§Ù†Øª Ø¹Ø§ÙŠØ²Ù‡Ø§

    const PAYMENT_METHODS = [
      { id:"crypto",   label:"Crypto (USDT/â€¦)" },
      { id:"instapay", label:"InstaPay" },
      { id:"paypal",   label:"PayPal" },
      { id:"vodafone", label:"Vodafone Cash" },
      { id:"sar",      label:"Ø±ÙŠØ§Ù„ Ø³Ø¹ÙˆØ¯ÙŠ (ØªØ­ÙˆÙŠÙ„Ø§Øª)" },
      { id:"asiacell", label:"AsiaCell (ÙƒÙ„ Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„ØªØ­ÙˆÙŠÙ„Ø§Øª)" },
    ];

    // ===== Sidebar + Navigation =====
    const sidebar = document.getElementById("sidebar");
    const overlay = document.getElementById("overlay");
    const openMenu = document.getElementById("openMenu");
    const navButtons = Array.from(document.querySelectorAll(".navbtn"));
    const pages = {
      about: document.getElementById("page-about"),
      shop: document.getElementById("page-shop"),
      contact: document.getElementById("page-contact"),
      payments: document.getElementById("page-payments"),
      support: document.getElementById("page-support"),
    };

    function setActivePage(key){
      Object.values(pages).forEach(p => p.classList.remove("active"));
      pages[key].classList.add("active");
      navButtons.forEach(b => b.classList.toggle("active", b.dataset.page === key));
      history.replaceState(null, "", "#" + key);

      if (window.innerWidth <= 980){
        sidebar.classList.remove("open");
        overlay.classList.remove("show");
      }
      if (key === "payments") renderPaymentReview();
    }

    navButtons.forEach(btn=> btn.addEventListener("click", ()=> setActivePage(btn.dataset.page)));
    openMenu?.addEventListener("click", ()=>{ sidebar.classList.add("open"); overlay.classList.add("show"); });
    overlay.addEventListener("click", ()=>{ sidebar.classList.remove("open"); overlay.classList.remove("show"); });

    const initial = (location.hash || "#about").replace("#","");
    if (pages[initial]) setActivePage(initial);

    // ===== Shop Categories =====
    const categories = [
      { id:"nitros",  label:"nitros" },
      { id:"credits", label:"credits" },
      { id:"visas",   label:"visas" },
      { id:"effects", label:"effects" },
      { id:"boosts",  label:"boosts" },
      { id:"accounts",label:"accounts" },
    ];
    let activeCategory = "nitros";

    // âœ… Ø§Ù„Ø£Ù‚Ø³Ø§Ù… ÙØ§Ø¶ÙŠØ© Ø§ÙØªØ±Ø§Ø¶ÙŠÙ‹Ø§
    let products = [];

    // ===== Cart =====
    const cart = new Map(); // productId -> qty
    const cartCount = document.getElementById("cartCount");
    const cartTotal = document.getElementById("cartTotal");

    function getProduct(id){ return products.find(p=>p.id===id); }

    function updateCartUI(){
      let count = 0, total = 0;
      for (const [pid, qty] of cart.entries()){
        const p = getProduct(pid);
        if (!p) continue;
        count += qty;
        total += p.price * qty;
      }
      cartCount.textContent = `ğŸ§º Ø§Ù„Ø³Ù„Ø©: ${count}`;
      cartTotal.textContent = `ğŸ’° Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: ${total} EGP`;
    }

    document.getElementById("clearCart").addEventListener("click", ()=>{
      cart.clear();
      updateCartUI();
      renderProducts();
      renderPaymentReview();
      alert("ØªÙ… ØªÙØ±ÙŠØº Ø§Ù„Ø³Ù„Ø©.");
    });

    document.getElementById("checkoutBtn").addEventListener("click", ()=>{
      setActivePage("payments");
    });

    // ===== Seller State (Local Demo) =====
    const sellerStatus = document.getElementById("sellerStatus");
    const sellerLoginBtn = document.getElementById("sellerLoginBtn");
    const sellerLogoutBtn = document.getElementById("sellerLogoutBtn");
    const addProductBtn = document.getElementById("addProductBtn");
    const sellerPaymentsCard = document.getElementById("sellerPaymentsCard");

    const sellerKey = "voxa_seller_session";
    let sellerSession = loadSellerSession();

    function loadSellerSession(){
      try{
        const raw = localStorage.getItem(sellerKey);
        if (!raw) return null;
        const obj = JSON.parse(raw);
        if (!obj || !ALLOWED_SELLERS.has(obj.sellerName)) return null;
        return obj;
      }catch{ return null; }
    }
    function saveSellerSession(sellerName){
      const obj = { sellerName, at: Date.now() };
      localStorage.setItem(sellerKey, JSON.stringify(obj));
      sellerSession = obj;
      applySellerUI();
    }
    function clearSellerSession(){
      localStorage.removeItem(sellerKey);
      sellerSession = null;
      applySellerUI();
    }

    function applySellerUI(){
      const isSeller = !!sellerSession;
      sellerStatus.textContent = isSeller ? `Ù…ÙØ¹Ù‘Ù„: ${sellerSession.sellerName}` : "Ù…Ù‚ÙÙˆÙ„";
      sellerLoginBtn.style.display = isSeller ? "none" : "inline-flex";
      sellerLogoutBtn.style.display = isSeller ? "inline-flex" : "none";
      addProductBtn.style.display = isSeller ? "inline-flex" : "none";
      sellerPaymentsCard.style.display = isSeller ? "block" : "none";
      renderTabs();
      renderProducts();
      renderPaymentReview();
      renderPaymentToggles();
    }

    sellerLogoutBtn.addEventListener("click", ()=>{
      clearSellerSession();
      alert("ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬ Ù…Ù† Seller Mode.");
    });

    // ===== Payment availability (saved) =====
    const payKey = "voxa_payment_availability";
    function defaultPayAvailability(){
      // Ø§ÙØªØ±Ø§Ø¶ÙŠÙ‹Ø§: ÙƒÙ„Ù‡ Ù…ØªØ§Ø­
      const obj = {};
      PAYMENT_METHODS.forEach(m => obj[m.id] = true);
      return obj;
    }
    function loadPayAvailability(){
      try{
        const raw = localStorage.getItem(payKey);
        if (!raw) return defaultPayAvailability();
        const obj = JSON.parse(raw);
        // ensure all keys exist
        const base = defaultPayAvailability();
        for (const k of Object.keys(base)){
          if (typeof obj?.[k] === "boolean") base[k] = obj[k];
        }
        return base;
      }catch{
        return defaultPayAvailability();
      }
    }
    function savePayAvailability(obj){
      localStorage.setItem(payKey, JSON.stringify(obj));
    }

    let payAvailability = loadPayAvailability();

    // ===== Tabs =====
    const categoryTabs = document.getElementById("categoryTabs");
    const modalCategory = document.getElementById("modalCategory");

    function renderTabs(){
      const isSeller = !!sellerSession;
      categoryTabs.innerHTML = categories.map(c=>{
        const plus = isSeller ? `<span class="plus" data-plus="${c.id}" title="Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬ Ù„Ù„Ù‚Ø³Ù…">+</span>` : "";
        return `<button class="tab ${c.id===activeCategory ? "active":""}" data-tab="${c.id}">${c.label} ${plus}</button>`;
      }).join("");

      // modal select
      modalCategory.innerHTML = categories.map(c=> `<option value="${c.id}">${c.label}</option>`).join("");

      categoryTabs.querySelectorAll("[data-tab]").forEach(btn=>{
        btn.addEventListener("click", ()=>{
          activeCategory = btn.getAttribute("data-tab");
          renderTabs();
          renderProducts();
        });
      });

      categoryTabs.querySelectorAll("[data-plus]").forEach(p=>{
        p.addEventListener("click", (e)=>{
          e.stopPropagation();
          if (!sellerSession) return;
          openAddModal(p.getAttribute("data-plus"));
        });
      });
    }

    // ===== Render Products =====
    const productsGrid = document.getElementById("productsGrid");
    const searchInput = document.getElementById("searchInput");

    function renderProducts(){
      const q = (searchInput.value || "").trim().toLowerCase();
      const list = products
        .filter(p => p.category === activeCategory)
        .filter(p => !q || (p.title + " " + p.desc).toLowerCase().includes(q));

      if (list.length === 0){
        const isSeller = !!sellerSession;
        productsGrid.innerHTML = `
          <div class="emptybox">
            <b style="color:var(--text)">Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ù…Ù†ØªØ¬Ø§Øª ÙÙŠ Ù‚Ø³Ù…: ${activeCategory}</b><br/>
            ${isSeller
              ? `Ø§Ù„Ù‚Ø³Ù… ÙØ§Ø¶ÙŠ â€” Ø§Ø¶ØºØ· <b>+ Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬</b> Ø£Ùˆ Ø¹Ù„Ø§Ù…Ø© <b>+</b> Ø¬Ù†Ø¨ Ø§Ø³Ù… Ø§Ù„Ù‚Ø³Ù… ÙÙˆÙ‚.`
              : `Ø§Ù„Ù‚Ø³Ù… ÙØ§Ø¶ÙŠ Ø­Ø§Ù„ÙŠÙ‹Ø§ â€” Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ù‡ØªØ¸Ù‡Ø± Ù„Ù…Ø§ Ø§Ù„Ø¨Ø§Ø¦Ø¹ÙŠÙ† ÙŠØ¶ÙŠÙÙˆØ§ Ø·Ù„Ø¨Ø§ØªÙ‡Ù….`}
          </div>
        `;
        return;
      }

      productsGrid.innerHTML = list.map(p=>{
        const inStockStyle = p.stock ? "" : "border-color: rgba(255,92,122,.45); background: rgba(255,92,122,.14)";
        const stockText = p.stock ? "Ù…ØªØ§Ø­" : "ØºÙŠØ± Ù…ØªØ§Ø­";
        return `
          <div class="product">
            <div class="pimg">
              <span class="price">${p.price} EGP</span>
              <span class="stock" style="${inStockStyle}">${stockText}</span>
            </div>
            <h4>${p.title}</h4>
            <p class="desc">${p.desc}</p>
            <div class="row">
              <div style="display:flex; gap:8px; flex-wrap:wrap">
                <button class="btn primary" ${p.stock ? "" : "disabled"} data-add="${p.id}">Ø¥Ø¶Ø§ÙØ© Ù„Ù„Ø³Ù„Ø©</button>
                <button class="btn danger" data-remove="${p.id}">Ø¥Ø²Ø§Ù„Ø©</button>
              </div>
              <div style="color:var(--muted); font-size:12px">
                ÙÙŠ Ø§Ù„Ø³Ù„Ø©: <b style="color:var(--text)">${cart.get(p.id) || 0}</b>
              </div>
            </div>
          </div>
        `;
      }).join("");

      productsGrid.querySelectorAll("[data-add]").forEach(btn=>{
        btn.addEventListener("click", ()=>{
          const id = btn.getAttribute("data-add");
          const p = getProduct(id);
          if (!p || !p.stock) return;
          cart.set(id, (cart.get(id) || 0) + 1);
          updateCartUI();
          renderProducts();
        });
      });

      productsGrid.querySelectorAll("[data-remove]").forEach(btn=>{
        btn.addEventListener("click", ()=>{
          const id = btn.getAttribute("data-remove");
          const current = cart.get(id) || 0;
          if (current <= 1) cart.delete(id);
          else cart.set(id, current - 1);
          updateCartUI();
          renderProducts();
        });
      });
    }
    searchInput.addEventListener("input", renderProducts);

    // ===== Payments Page =====
    const orderSummary = document.getElementById("orderSummary");
    const orderTotalTag = document.getElementById("orderTotalTag");
    const orderCountTag = document.getElementById("orderCountTag");
    const availablePaymentsBox = document.getElementById("availablePaymentsBox");
    const paymentMethodSelect = document.getElementById("paymentMethod");
    const paymentNote = document.getElementById("paymentNote");
    const confirmOrderBtn = document.getElementById("confirmOrderBtn");
    const confirmNote = document.getElementById("confirmNote");
    const backToShopBtn = document.getElementById("backToShopBtn");

    backToShopBtn.addEventListener("click", ()=> setActivePage("shop"));

    function getAvailablePaymentMethods(){
      return PAYMENT_METHODS.filter(m => payAvailability[m.id] === true);
    }

    function renderPaymentReview(){
      // cart summary
      let count=0, total=0;
      const lines = [];
      for (const [pid, qty] of cart.entries()){
        const p = getProduct(pid);
        if (!p) continue;
        count += qty;
        total += p.price * qty;
        lines.push(`â€¢ <b>${p.title}</b> Ã— ${qty} â€” <span style="color:var(--text); font-weight:900">${p.price * qty} EGP</span>`);
      }

      if (lines.length === 0){
        orderSummary.innerHTML = `Ø§Ù„Ø³Ù„Ø© ÙØ§Ø¶ÙŠØ©. Ø±ÙˆØ­ Ø§Ù„Ø´ÙˆØ¨ ÙˆØ§Ø¶Ù Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ø£ÙˆÙ„.`;
        orderTotalTag.textContent = `Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: 0`;
        orderCountTag.textContent = `Ø¹Ø¯Ø¯ Ø§Ù„Ø¹Ù†Ø§ØµØ±: 0`;
        confirmOrderBtn.disabled = true;
      }else{
        orderSummary.innerHTML = lines.join("<br/>");
        orderTotalTag.textContent = `Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: ${total} EGP`;
        orderCountTag.textContent = `Ø¹Ø¯Ø¯ Ø§Ù„Ø¹Ù†Ø§ØµØ±: ${count}`;
        confirmOrderBtn.disabled = false;
      }

      // payment methods
      const available = getAvailablePaymentMethods();
      if (available.length === 0){
        availablePaymentsBox.innerHTML = `âŒ Ù„Ø§ ØªÙˆØ¬Ø¯ Ø·Ø±Ù‚ Ø¯ÙØ¹ Ù…ØªØ§Ø­Ø© Ø­Ø§Ù„ÙŠÙ‹Ø§. (Ø§Ù„Ø¨Ø§Ø¦Ø¹ ÙŠÙ‚ÙÙ„/ÙŠÙØªØ­ Ù…Ù† Seller Mode)`;
        paymentMethodSelect.innerHTML = `<option value="">Ù„Ø§ ÙŠÙˆØ¬Ø¯</option>`;
        confirmOrderBtn.disabled = true;
      }else{
        availablePaymentsBox.innerHTML = `âœ… Ø§Ù„Ø·Ø±Ù‚ Ø§Ù„Ù…ØªØ§Ø­Ø© Ø§Ù„Ø¢Ù†: <b style="color:var(--text)">${available.map(x=>x.label).join(" â€” ")}</b>`;
        paymentMethodSelect.innerHTML = available.map(m=>`<option value="${m.id}">${m.label}</option>`).join("");
      }
    }

    confirmOrderBtn.addEventListener("click", ()=>{
      if (cart.size === 0) return;

      const available = getAvailablePaymentMethods();
      if (available.length === 0) return;

      const methodId = paymentMethodSelect.value;
      const method = PAYMENT_METHODS.find(m=>m.id===methodId);
      const note = (paymentNote.value || "").trim();

      confirmNote.innerHTML =
        `âœ… ØªÙ… ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨ (Demo).<br/>` +
        `Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¯ÙØ¹: <b>${method ? method.label : methodId}</b>${note ? ` â€” Ù…Ù„Ø§Ø­Ø¸Ø©: <b>${note}</b>` : ""}<br/>` +
        `ÙÙŠ Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠØ©: Ø§Ù„Ø·Ù„Ø¨ Ù‡ÙŠØªØ³Ø¬Ù„ + ÙŠØªØ¨Ø¹Øª Ù„Ù„Ø¨Ø§Ø¦Ø¹/Ø§Ù„Ø¯Ø¹Ù… Ù„Ù„ØªÙ†ÙÙŠØ°.`;

      // ØªÙØ±ÙŠØº Ø§Ù„Ø³Ù„Ø© Ø¨Ø¹Ø¯ Ø§Ù„ØªØ£ÙƒÙŠØ¯
      cart.clear();
      updateCartUI();
      renderProducts();
      renderPaymentReview();
    });

    // ===== Seller: Payment toggles UI =====
    const paymentsToggles = document.getElementById("paymentsToggles");
    const savePaymentsBtn = document.getElementById("savePaymentsBtn");
    const savePaymentsNote = document.getElementById("savePaymentsNote");

    function renderPaymentToggles(){
      if (!sellerSession) return;
      paymentsToggles.innerHTML = PAYMENT_METHODS.map(m=>{
        const checked = payAvailability[m.id] ? "checked" : "";
        return `
          <div class="payItem">
            <div>
              <div style="font-weight:900">${m.label}</div>
              <div class="small">Ø§Ù„Ø­Ø§Ù„Ø©: <b style="color:var(--text)">${payAvailability[m.id] ? "Ù…ÙˆØ¬ÙˆØ¯" : "Ù…Ø´ Ù…ÙˆØ¬ÙˆØ¯"}</b></div>
            </div>
            <label class="toggleSmall">
              <input type="checkbox" data-pay="${m.id}" ${checked} />
              <span class="small">Ù…ØªØ§Ø­</span>
            </label>
          </div>
        `;
      }).join("");

      paymentsToggles.querySelectorAll("[data-pay]").forEach(chk=>{
        chk.addEventListener("change", ()=>{
          const id = chk.getAttribute("data-pay");
          payAvailability[id] = chk.checked;
          // live update labels by re-render
          renderPaymentToggles();
          renderPaymentReview();
        });
      });
    }

    savePaymentsBtn.addEventListener("click", ()=>{
      if (!sellerSession) return;
      savePayAvailability(payAvailability);
      savePaymentsNote.textContent = "âœ… ØªÙ… Ø­ÙØ¸ Ø·Ø±Ù‚ Ø§Ù„Ø¯ÙØ¹.";
      setTimeout(()=> savePaymentsNote.textContent = "", 2000);
      renderPaymentReview();
    });

    // ===== Seller Login Modal =====
    const sellerModalWrap = document.getElementById("sellerModalWrap");
    const closeSellerModal = document.getElementById("closeSellerModal");
    const cancelSellerModal = document.getElementById("cancelSellerModal");
    const sellerLoginForm = document.getElementById("sellerLoginForm");
    const sellerLoginNote = document.getElementById("sellerLoginNote");

    function openSellerModal(){
      sellerLoginNote.textContent = "";
      sellerModalWrap.style.display = "grid";
    }
    function closeSellerModalFn(){
      sellerModalWrap.style.display = "none";
      sellerLoginForm.reset();
      sellerLoginNote.textContent = "";
    }

    sellerLoginBtn.addEventListener("click", openSellerModal);
    closeSellerModal.addEventListener("click", closeSellerModalFn);
    cancelSellerModal.addEventListener("click", closeSellerModalFn);
    sellerModalWrap.addEventListener("click", (e)=>{ if (e.target === sellerModalWrap) closeSellerModalFn(); });

    sellerLoginForm.addEventListener("submit", (e)=>{
      e.preventDefault();
      const fd = new FormData(sellerLoginForm);
      const sellerName = String(fd.get("sellerName") || "").trim();
      const secret = String(fd.get("secret") || "").trim();

      if (!ALLOWED_SELLERS.has(sellerName)){
        sellerLoginNote.textContent = "âŒ Ø§Ù„Ø§Ø³Ù… Ù…Ø´ Ù…Ø³Ù…ÙˆØ­. Ø§Ù„Ù…Ø³Ù…ÙˆØ­ ÙÙ‚Ø·: gq_8 Ø£Ùˆ k_i_l_";
        return;
      }
      if (secret !== SELLER_SECRET){
        sellerLoginNote.textContent = "âŒ ÙƒÙˆØ¯ Ø§Ù„ØªÙØ¹ÙŠÙ„ ØºÙ„Ø·.";
        return;
      }

      saveSellerSession(sellerName);
      closeSellerModalFn();
      alert("âœ… ØªÙ… ØªÙØ¹ÙŠÙ„ Seller Mode.");
    });

    // ===== Add Product Modal =====
    const addModalWrap = document.getElementById("addModalWrap");
    const closeAddModal = document.getElementById("closeAddModal");
    const cancelAddModal = document.getElementById("cancelAddModal");
    const addProductForm = document.getElementById("addProductForm");

    function openAddModal(categoryId){
      addModalWrap.style.display = "grid";
      modalCategory.value = categoryId || activeCategory;
    }
    function closeAddModalFn(){
      addModalWrap.style.display = "none";
      addProductForm.reset();
    }

    addProductBtn.addEventListener("click", ()=>{
      if (!sellerSession) return;
      openAddModal(activeCategory);
    });

    closeAddModal.addEventListener("click", closeAddModalFn);
    cancelAddModal.addEventListener("click", closeAddModalFn);
    addModalWrap.addEventListener("click", (e)=>{ if (e.target === addModalWrap) closeAddModalFn(); });

    function uid(){ return "p_" + Math.random().toString(16).slice(2) + Date.now().toString(16); }

    addProductForm.addEventListener("submit", (e)=>{
      e.preventDefault();
      if (!sellerSession) return;

      const fd = new FormData(addProductForm);
      const item = {
        id: uid(),
        title: String(fd.get("title") || "").trim(),
        price: Number(fd.get("price") || 0),
        category: String(fd.get("category") || activeCategory),
        stock: String(fd.get("stock")) === "true",
        desc: String(fd.get("desc") || "").trim(),
        seller: sellerSession.sellerName
      };

      if (!item.title || !item.desc || !item.price) return;

      products.push(item);
      activeCategory = item.category;
      renderTabs();
      renderProducts();
      closeAddModalFn();
    });

    // ===== Init =====
    renderTabs();
    renderProducts();
    updateCartUI();
    renderPaymentReview();
    applySellerUI();
  </script>
</body>
</html>
