<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Voxa Store</title>
  <style>
    :root{
      --bg:#0b1220; --panel2:#0c162b; --text:#eaf0ff; --muted:#a9b7d7;
      --brand:#4aa3ff; --ok:#29d17d; --warn:#ffcc66; --danger:#ff5c7a;
      --border:rgba(255,255,255,.08); --shadow:0 18px 50px rgba(0,0,0,.45); --radius:18px;
    }
    *{box-sizing:border-box}
    body{
      margin:0; font-family: system-ui, -apple-system, "Segoe UI", Tahoma, Arial, sans-serif;
      background: radial-gradient(1200px 600px at 80% -10%, rgba(74,163,255,.25), transparent 60%),
                  radial-gradient(900px 500px at 20% 0%, rgba(41,209,125,.16), transparent 55%),
                  var(--bg);
      color:var(--text); min-height:100vh;
    }
    .app{display:grid; grid-template-columns:320px 1fr; min-height:100vh}
    aside{
      position:sticky; top:0; height:100vh; padding:18px;
      background: linear-gradient(180deg, rgba(255,255,255,.04), transparent 40%), var(--panel2);
      border-left:1px solid var(--border);
    }
    main{padding:24px 24px 40px}

    .topbar{display:none; position:sticky; top:0; z-index:10; padding:14px 16px;
      background: rgba(11,18,32,.7); backdrop-filter: blur(10px); border-bottom:1px solid var(--border);
    }
    .burger{border:1px solid var(--border); background: rgba(255,255,255,.04); color:var(--text);
      border-radius:14px; padding:10px 12px; cursor:pointer;
    }
    .brandline{display:flex; gap:10px; align-items:center; justify-content:space-between}
    .brandline .title{font-weight:900}

    @media (max-width:980px){
      .app{grid-template-columns:1fr}
      aside{
        position:fixed; inset:0; height:auto; width:min(92vw,360px);
        transform: translateX(110%); transition:.25s ease; z-index:50;
        border-left:none; border-right:1px solid var(--border);
      }
      aside.open{transform: translateX(0)}
      .overlay{position:fixed; inset:0; background: rgba(0,0,0,.55);
        z-index:40; opacity:0; pointer-events:none; transition:.2s ease;
      }
      .overlay.show{opacity:1; pointer-events:auto}
      .topbar{display:block}
      main{padding:18px 16px 30px}
    }

    .logo{
      display:flex; gap:12px; align-items:center; padding:14px;
      border:1px solid var(--border); border-radius: var(--radius);
      background: rgba(255,255,255,.04); box-shadow: var(--shadow);
    }
    .badge{
      width:44px; height:44px; border-radius:14px;
      background: linear-gradient(135deg, rgba(74,163,255,.9), rgba(41,209,125,.7));
      display:grid; place-items:center; font-weight:900;
    }
    .logo h1{margin:0; font-size:16px}
    .logo p{margin:3px 0 0; color:var(--muted); font-size:12px; line-height:1.6}

    nav{margin-top:16px; display:flex; flex-direction:column; gap:10px}
    .navbtn{
      display:flex; gap:10px; align-items:center; width:100%;
      padding:12px 14px; border-radius:16px; border:1px solid var(--border);
      background: rgba(255,255,255,.03); color:var(--text); cursor:pointer; text-align:right;
      transition:.15s ease;
    }
    .navbtn:hover{transform: translateY(-1px); background: rgba(255,255,255,.06)}
    .navbtn.active{background: rgba(74,163,255,.14); border-color: rgba(74,163,255,.35)}
    .navicon{
      width:34px; height:34px; border-radius:12px; background: rgba(255,255,255,.06);
      display:grid; place-items:center; border:1px solid var(--border); flex:0 0 auto;
    }
    .navtext .t{font-weight:800}
    .navtext .d{font-size:12px; color:var(--muted); margin-top:2px}

    .sidecard{
      margin-top:14px; padding:14px; border-radius: var(--radius);
      border:1px solid var(--border); background: rgba(255,255,255,.03);
    }
    .small{color:var(--muted); font-size:12px; line-height:1.7}
    .pilllink{
      display:inline-flex; align-items:center; gap:10px; margin-top:10px;
      padding:10px 12px; border-radius:14px; border:1px solid rgba(41,209,125,.35);
      background: rgba(41,209,125,.10); color:var(--text); text-decoration:none; font-weight:800;
    }

    .pagehead{display:flex; justify-content:space-between; align-items:flex-start; gap:16px; margin-bottom:14px}
    .pagehead h2{margin:0; font-size:24px}
    .pagehead p{margin:6px 0 0; color:var(--muted); line-height:1.8; max-width:70ch}
    .chiprow{display:flex; flex-wrap:wrap; gap:8px; justify-content:flex-end}
    .chip{font-size:12px; padding:7px 10px; border-radius:999px; border:1px solid var(--border);
      background: rgba(255,255,255,.03); color:var(--muted);
    }

    .grid{display:grid; grid-template-columns: repeat(12, 1fr); gap:14px; margin-top:16px}
    .card{
      grid-column: span 6; padding:16px; border-radius: var(--radius); border:1px solid var(--border);
      background: linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.02));
      box-shadow: var(--shadow); min-height:120px;
    }
    .card h3{margin:0 0 8px; font-size:16px}
    .card p{margin:0; color:var(--muted); line-height:1.8}
    .meta{margin-top:12px; display:flex; gap:8px; flex-wrap:wrap}
    .tag{font-size:12px; padding:6px 10px; border-radius:999px; border:1px solid var(--border); background: rgba(255,255,255,.03)}
    @media (max-width:980px){ .card{grid-column: span 12} .pagehead{flex-direction:column; align-items:flex-start} .chiprow{justify-content:flex-start} }

    /* Shop */
    .tabs{display:flex; gap:8px; flex-wrap:wrap; margin-top:14px}
    .tab{
      border:1px solid var(--border); background: rgba(255,255,255,.03); color:var(--text);
      padding:8px 10px; border-radius:999px; font-weight:900; cursor:pointer; font-size:12px;
    }
    .tab.active{border-color: rgba(74,163,255,.45); background: rgba(74,163,255,.16)}
    .emptybox{
      grid-column: span 12; padding:18px; border-radius: var(--radius);
      border:1px dashed rgba(255,255,255,.18); background: rgba(255,255,255,.02);
      color: var(--muted); line-height:1.9;
    }

    /* Support */
    form{
      margin-top:12px; max-width: 820px; border:1px solid var(--border);
      border-radius: var(--radius); background: rgba(255,255,255,.03);
      padding:16px; box-shadow: var(--shadow);
    }
    .fgrid{display:grid; grid-template-columns: 1fr 1fr; gap:12px}
    @media (max-width:980px){ .fgrid{grid-template-columns:1fr} }
    label{font-size:12px; color:var(--muted); display:block; margin-bottom:6px}
    input, textarea, select{
      width:100%; border-radius: 14px; border:1px solid var(--border);
      background: rgba(0,0,0,.18); padding:10px 12px; color:var(--text);
      outline:none; font-size:14px;
    }
    textarea{min-height:110px; resize:vertical}
    .btn{
      cursor:pointer; border:1px solid var(--border); background: rgba(255,255,255,.04);
      color:var(--text); padding:10px 12px; border-radius:14px; font-weight:800;
    }
    .btn.ok{border-color: rgba(41,209,125,.45); background: rgba(41,209,125,.14)}
    .btn.primary{border-color: rgba(74,163,255,.45); background: rgba(74,163,255,.16)}
    .note{margin-top:10px; color:var(--muted); font-size:12px; line-height:1.7}

    section.page{display:none}
    section.page.active{display:block}
  </style>
</head>
<body>

  <div class="topbar">
    <div class="brandline">
      <button class="burger" id="openMenu">â˜° Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©</button>
      <div class="title">Voxa Store</div>
    </div>
  </div>
  <div class="overlay" id="overlay"></div>

  <div class="app">
    <aside id="sidebar">
      <div class="logo">
        <div class="badge">VX</div>
        <div>
          <h1>Voxa Store</h1>
          <p>
            Marketplace UI<br/>
            <span id="storeStatusText">Ø­Ø§Ù„Ø© Ø§Ù„Ø³ÙŠØ³ØªÙ…: â€¦</span>
          </p>
        </div>
      </div>

      <nav>
        <button class="navbtn active" data-page="about">
          <div class="navicon">â„¹ï¸</div>
          <div class="navtext"><div class="t">About us</div><div class="d">ØªØ·Ø¨ÙŠÙ„ + Ù…Ø¹Ù„ÙˆÙ…Ø§Øª</div></div>
        </button>

        <button class="navbtn" data-page="shop">
          <div class="navicon">ğŸ›’</div>
          <div class="navtext"><div class="t">Shop</div><div class="d">Ø§Ù„Ø£Ù‚Ø³Ø§Ù…</div></div>
        </button>

        <button class="navbtn" data-page="sellers">
          <div class="navicon">ğŸ‘¤</div>
          <div class="navtext"><div class="t">Sellers</div><div class="d">Ø§Ù„Ø¨Ø§Ø¦Ø¹ÙŠÙ†</div></div>
        </button>

        <button class="navbtn" data-page="payments">
          <div class="navicon">ğŸ’³</div>
          <div class="navtext"><div class="t">Payments</div><div class="d">Ø·Ø±Ù‚ Ø§Ù„Ø¯ÙØ¹ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</div></div>
        </button>

        <button class="navbtn" data-page="support">
          <div class="navicon">ğŸ› ï¸</div>
          <div class="navtext"><div class="t">Support</div><div class="d">ØªÙ‚Ø¯ÙŠÙ… Ù…Ø´ÙƒÙ„Ø©</div></div>
        </button>
      </nav>

      <div class="sidecard">
        <div class="small">
          âœ… Ù„ÙˆØ­Ø© Ø§Ù„Ø£Ø¯Ù…Ù†/Ø§Ù„Ø¨Ø§Ø¦Ø¹ÙŠÙ† Ù‡Ù†Ø§:
        </div>
        <a class="pilllink" href="./panel.html">ÙØªØ­ Ù„ÙˆØ­Ø© Ø§Ù„Ø£Ø¯Ù…Ù† (Panel)</a>
        <div class="note">* Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨Ø§Ù„Ø¨Ø§Ø³ÙˆØ±Ø¯ Ù‡Ù†Ø§Ùƒ. Orders & Issues Ø¨ØªØ¸Ù‡Ø± Ù‡Ù†Ø§Ùƒ Ù„Ù…Ø§ ØªØªÙØ¹Ù„.</div>
      </div>
    </aside>

    <main>
      <!-- ABOUT -->
      <section class="page active" id="page-about">
        <div class="pagehead">
          <div>
            <h2>About us</h2>
            <p>
              Ø¥Ø­Ù†Ø§ Voxa Store â€” Ø£Ø­Ø³Ù† Ø³ØªÙˆØ± ÙÙŠ Ø§Ù„Ø´Ø±Ù‚ Ø§Ù„Ø£ÙˆØ³Ø· ğŸ”¥<br/>
              Ù…Ø¹Ø§Ù†Ø§ <b>190 Ø¯Ù„ÙŠÙ„</b> ÙˆØ¨Ø§Ø¦Ø¹ÙŠÙ† Ø¬Ø§Ù…Ø¯ÙŠÙ† Ø¬Ø¯Ù‹Ø§ØŒ Ø´ØºØ§Ù„ÙŠÙ† <b>24 Ø³Ø§Ø¹Ø©</b> Ø¹Ø´Ø§Ù† Ù†Ø®Ø¯Ù…Ùƒ Ø¨Ø³Ø±Ø¹Ø© ÙˆØ¨Ø´ÙƒÙ„ Ù…Ø­ØªØ±Ù….
            </p>
          </div>
          <div class="chiprow">
            <span class="chip">ğŸ“˜ 190 Ø¯Ù„ÙŠÙ„</span>
            <span class="chip">ğŸ”¥ Ø¨Ø§Ø¦Ø¹ÙŠÙ† Ø¬Ø§Ù…Ø¯ÙŠÙ†</span>
            <span class="chip">â±ï¸ 24/7</span>
          </div>
        </div>

        <div class="grid">
          <div class="card">
            <h3>Ù„ÙŠÙ‡ Ø¥Ø­Ù†Ø§ØŸ</h3>
            <p>ØªÙ†Ø¸ÙŠÙ…ØŒ Ø³Ø±Ø¹Ø© Ø±Ø¯ØŒ Ø¯Ø¹Ù… Ù…Ø­ØªØ±Ù…ØŒ ÙˆØªØ¬Ø±Ø¨Ø© Ø´ÙƒÙ„Ù‡Ø§ Ø¬Ø§Ù…Ø¯.</p>
            <div class="meta">
              <span class="tag">Ø«Ù‚Ø©</span><span class="tag">Ø³Ø±Ø¹Ø©</span><span class="tag">Ø¯Ø¹Ù…</span>
            </div>
          </div>
          <div class="card">
            <h3>Ù†Ø¸Ø§Ù… Ø§Ù„Ø´ÙˆØ¨</h3>
            <p>Ø§Ù„Ø£Ù‚Ø³Ø§Ù… ÙˆØ§Ø¶Ø­Ø©ØŒ ÙˆØ¥Ù†Øª Ù‡ØªØ¶ÙŠÙ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ù…Ù† Ù…ÙˆÙ‚Ø¹ ØªØ§Ù†ÙŠ Ø²ÙŠ Ù…Ø§ ØªØ­Ø¨.</p>
            <div class="meta">
              <span class="tag">Ù…Ø±ÙˆÙ†Ø©</span><span class="tag">Ø£Ù‚Ø³Ø§Ù…</span><span class="tag">UI</span>
            </div>
          </div>
        </div>
      </section>

      <!-- SHOP -->
      <section class="page" id="page-shop">
        <div class="pagehead">
          <div>
            <h2>Shop</h2>
            <p>Ø§Ù„Ø£Ù‚Ø³Ø§Ù… Ù…ÙˆØ¬ÙˆØ¯Ø©ØŒ ÙˆÙ…ÙƒØ§Ù† Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª ÙØ§Ø¶ÙŠ (Ø¥Ù†Øª Ù‡ØªØ¶ÙŠÙÙ‡Ù… Ù…Ù† Ù…ÙˆÙ‚Ø¹ ØªØ§Ù†ÙŠ).</p>
          </div>
          <div class="chiprow">
            <span class="chip">ğŸ§© Ø£Ù‚Ø³Ø§Ù… Ø«Ø§Ø¨ØªØ©</span>
            <span class="chip" id="modeBadge">â€¦</span>
          </div>
        </div>

        <div class="tabs" id="categoryTabs"></div>
        <div class="grid" id="shopGrid"></div>
      </section>

      <!-- SELLERS -->
      <section class="page" id="page-sellers">
        <div class="pagehead">
          <div>
            <h2>Sellers</h2>
            <p>Ø¯ÙˆÙ„ Ø§Ù„Ø¨Ø§Ø¦Ø¹ÙŠÙ† Ø§Ù„Ù…Ø¹ØªÙ…Ø¯ÙŠÙ† Ø¹Ù†Ø¯Ù†Ø§.</p>
          </div>
          <div class="chiprow">
            <span class="chip">âœ… Verified</span>
          </div>
        </div>

        <div class="grid" id="sellersGrid"></div>
      </section>

      <!-- PAYMENTS -->
      <section class="page" id="page-payments">
        <div class="pagehead">
          <div>
            <h2>Payments</h2>
            <p>Ø·Ø±Ù‚ Ø§Ù„Ø¯ÙØ¹ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© (Ø¨ØªØ¸Ù‡Ø± Ù‡Ù†Ø§ ÙƒØ§Ù…Ù„Ø©ØŒ ÙˆØ­Ø§Ù„ØªÙ‡Ø§ Ø¨ØªØªØ±Ø§Ø¬Ø¹ Ù…Ù† Ù„ÙˆØ­Ø© Ø§Ù„Ø£Ø¯Ù…Ù†).</p>
          </div>
          <div class="chiprow">
            <span class="chip">ğŸ’³ Ø¯ÙØ¹</span>
            <span class="chip" id="payStatusChip">â€¦</span>
          </div>
        </div>

        <div class="grid" id="paymentsGrid"></div>
      </section>

      <!-- SUPPORT -->
      <section class="page" id="page-support">
        <div class="pagehead">
          <div>
            <h2>Support</h2>
            <p>Ù‚Ø¯Ù‘Ù… Ù…Ø´ÙƒÙ„Ø©/ØªØ°ÙƒØ±Ø©ØŒ ÙˆÙ‡ØªØ¸Ù‡Ø± ÙÙŠ Ù„ÙˆØ­Ø© Ø§Ù„Ø£Ø¯Ù…Ù† ØªØ­Øª Issues.</p>
          </div>
          <div class="chiprow">
            <span class="chip">ğŸ§¾ Issues</span>
            <span class="chip">âš¡ Ø±Ø¯ Ø³Ø±ÙŠØ¹</span>
          </div>
        </div>

        <form id="issueForm">
          <div class="fgrid">
            <div>
              <label>Ø§Ø³Ù…Ùƒ</label>
              <input name="name" required placeholder="Ø§Ø³Ù…Ùƒ" />
            </div>
            <div>
              <label>ÙˆØ³ÙŠÙ„Ø© ØªÙˆØ§ØµÙ„ (Discord/Ø±Ù‚Ù…/Ø¥ÙŠÙ…ÙŠÙ„)</label>
              <input name="contact" required placeholder="Ù…Ø«Ø§Ù„: discordUser#0001" />
            </div>
          </div>

          <div style="margin-top:12px">
            <label>Ù†ÙˆØ¹ Ø§Ù„Ù…Ø´ÙƒÙ„Ø©</label>
            <select name="type" required>
              <option value="payment">Ù…Ø´ÙƒÙ„Ø© Ø¯ÙØ¹</option>
              <option value="order">Ù…Ø´ÙƒÙ„Ø© Ø·Ù„Ø¨</option>
              <option value="seller">Ù…Ø´ÙƒÙ„Ø© Ø¨Ø§Ø¦Ø¹</option>
              <option value="other">Ø£Ø®Ø±Ù‰</option>
            </select>
          </div>

          <div style="margin-top:12px">
            <label>ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ù…Ø´ÙƒÙ„Ø©</label>
            <textarea name="details" required placeholder="Ø§ÙƒØªØ¨ Ø§Ù„ØªÙØ§ØµÙŠÙ„â€¦"></textarea>
          </div>

          <div style="margin-top:12px; display:flex; gap:10px; flex-wrap:wrap">
            <button class="btn ok" type="submit">Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ù…Ø´ÙƒÙ„Ø©</button>
            <button class="btn primary" type="reset">Ù…Ø³Ø­</button>
          </div>

          <div class="note" id="issueNote"></div>
        </form>
      </section>
    </main>
  </div>

  <script>
    // ===== Shared Storage Keys =====
    const KEY_SELLER_MODE = "voxa_seller_mode_enabled";   // true/false
    const KEY_PAY_AVAIL   = "voxa_payment_availability";  // object
    const KEY_ISSUES      = "voxa_issues";                // array
    const KEY_ORDERS      = "voxa_orders";                // array

    // ===== Basic Navigation =====
    const sidebar = document.getElementById("sidebar");
    const overlay = document.getElementById("overlay");
    const openMenu = document.getElementById("openMenu");
    const navButtons = Array.from(document.querySelectorAll(".navbtn"));
    const pages = {
      about: document.getElementById("page-about"),
      shop: document.getElementById("page-shop"),
      sellers: document.getElementById("page-sellers"),
      payments: document.getElementById("page-payments"),
      support: document.getElementById("page-support"),
    };

    function setActivePage(key){
      Object.values(pages).forEach(p => p.classList.remove("active"));
      pages[key].classList.add("active");
      navButtons.forEach(b => b.classList.toggle("active", b.dataset.page === key));
      history.replaceState(null, "", "#" + key);

      if (window.innerWidth <= 980){
        sidebar.classList.remove("open");
        overlay.classList.remove("show");
      }
    }

    navButtons.forEach(btn => btn.addEventListener("click", ()=> setActivePage(btn.dataset.page)));
    openMenu?.addEventListener("click", ()=>{ sidebar.classList.add("open"); overlay.classList.add("show"); });
    overlay?.addEventListener("click", ()=>{ sidebar.classList.remove("open"); overlay.classList.remove("show"); });

    const initial = (location.hash || "#about").replace("#","");
    if (pages[initial]) setActivePage(initial);

    // ===== Seller Mode Status (global) =====
    const storeStatusText = document.getElementById("storeStatusText");
    const modeBadge = document.getElementById("modeBadge");

    function getSellerMode(){
      return localStorage.getItem(KEY_SELLER_MODE) === "true";
    }
    function renderMode(){
      const on = getSellerMode();
      storeStatusText.textContent = "Ø­Ø§Ù„Ø© Ø§Ù„Ø³ÙŠØ³ØªÙ…: " + (on ? "Seller Mode ON âœ…" : "Seller Mode OFF âŒ");
      modeBadge.textContent = on ? "Seller Mode ON âœ…" : "Seller Mode OFF âŒ";
    }
    window.addEventListener("storage", renderMode);
    renderMode();

    // ===== Sellers =====
    const sellers = ["gq_8", "k_i_l_"];
    const sellersGrid = document.getElementById("sellersGrid");
    function renderSellers(){
      sellersGrid.innerHTML = sellers.map(u=>`
        <div class="card" style="grid-column: span 6">
          <h3>@${u}</h3>
          <p>Ø¨Ø§Ø¦Ø¹ Ù…Ø¹ØªÙ…Ø¯ Ø¯Ø§Ø®Ù„ Voxa Store.</p>
          <div class="meta">
            <span class="tag">Verified</span>
            <span class="tag">24/7</span>
          </div>
        </div>
      `).join("");
    }
    renderSellers();

    // ===== Shop =====
    const categories = ["nitros","credits","visas","effects","boosts","accounts"];
    let activeCategory = categories[0];
    const categoryTabs = document.getElementById("categoryTabs");
    const shopGrid = document.getElementById("shopGrid");

    function renderShop(){
      categoryTabs.innerHTML = categories.map(c=>`
        <button class="tab ${c===activeCategory ? "active":""}" data-cat="${c}">${c}</button>
      `).join("");

      categoryTabs.querySelectorAll("[data-cat]").forEach(b=>{
        b.addEventListener("click", ()=>{
          activeCategory = b.getAttribute("data-cat");
          renderShop();
        });
      });

      shopGrid.innerHTML = `
        <div class="emptybox">
          <b style="color:var(--text)">Ù‚Ø³Ù…: ${activeCategory}</b><br/>
          Ù‡Ù†Ø§ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ù‡ØªÙƒÙˆÙ† ÙØ§Ø¶ÙŠØ© â€” Ø¥Ù†Øª Ù‡ØªØ¶ÙŠÙÙ‡Ø§ Ù…Ù† Ù…ÙˆÙ‚Ø¹ ØªØ§Ù†ÙŠ.
          <br/><br/>
          <span style="color:var(--muted)">Ù…Ù„Ø§Ø­Ø¸Ø©: Ù„Ùˆ Seller Mode Ù…ØªÙ‚ÙÙ„ØŒ Ù…ÙÙŠØ´ Ø£ÙŠ Ø¥Ø¶Ø§ÙØ§Øª Ø¨ØªØ¸Ù‡Ø± Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†.</span>
        </div>
      `;
    }
    renderShop();

    // ===== Payments (Arabic list) =====
    const paymentMethods = [
      { id:"crypto",   name:"ÙƒØ±ÙŠØ¨ØªÙˆ (USDT / TRC20 / ERC20â€¦)" },
      { id:"instapay", name:"Ø¥Ù†Ø³ØªØ§ Ø¨Ø§ÙŠ" },
      { id:"paypal",   name:"Ø¨Ø§ÙŠØ¨Ø§Ù„" },
      { id:"vodafone", name:"ÙÙˆØ¯Ø§ÙÙˆÙ† ÙƒØ§Ø´" },
      { id:"sar",      name:"Ø±ÙŠØ§Ù„ Ø³Ø¹ÙˆØ¯ÙŠ (ÙƒÙ„ Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„ØªØ­ÙˆÙŠÙ„Ø§Øª)" },
      { id:"asiacell", name:"Ø¢Ø³ÙŠØ§ Ø³ÙŠÙ„ (ÙƒÙ„ Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„ØªØ­ÙˆÙŠÙ„Ø§Øª)" },
    ];

    function defaultPay(){
      const obj = {};
      paymentMethods.forEach(m=> obj[m.id] = true);
      return obj;
    }
    function loadPay(){
      try{
        const raw = localStorage.getItem(KEY_PAY_AVAIL);
        if (!raw) return defaultPay();
        const v = JSON.parse(raw);
        const base = defaultPay();
        for (const k of Object.keys(base)){
          if (typeof v?.[k] === "boolean") base[k] = v[k];
        }
        return base;
      }catch{ return defaultPay(); }
    }

    const paymentsGrid = document.getElementById("paymentsGrid");
    const payStatusChip = document.getElementById("payStatusChip");

    function renderPayments(){
      const avail = loadPay();
      const availableCount = paymentMethods.filter(m=>avail[m.id]).length;
      payStatusChip.textContent = `Ø§Ù„Ù…ØªØ§Ø­ Ø§Ù„Ø¢Ù†: ${availableCount}/${paymentMethods.length}`;

      paymentsGrid.innerHTML = paymentMethods.map(m=>{
        const ok = !!avail[m.id];
        return `
          <div class="card" style="grid-column: span 6">
            <h3>${m.name}</h3>
            <p>Ø§Ù„Ø­Ø§Ù„Ø©: <b style="color:${ok ? "var(--ok)" : "var(--danger)"}">${ok ? "Ù…ØªØ§Ø­" : "ØºÙŠØ± Ù…ØªØ§Ø­"}</b></p>
            <div class="meta">
              <span class="tag">${ok ? "Available" : "Unavailable"}</span>
            </div>
          </div>
        `;
      }).join("");
    }
    window.addEventListener("storage", renderPayments);
    renderPayments();

    // ===== Support -> Issues (saved for Panel) =====
    const issueForm = document.getElementById("issueForm");
    const issueNote = document.getElementById("issueNote");

    function loadIssues(){
      try{ return JSON.parse(localStorage.getItem(KEY_ISSUES) || "[]"); }
      catch{ return []; }
    }
    function saveIssues(arr){
      localStorage.setItem(KEY_ISSUES, JSON.stringify(arr));
    }
    function uid(){ return "i_" + Math.random().toString(16).slice(2) + Date.now().toString(16); }

    issueForm.addEventListener("submit", (e)=>{
      e.preventDefault();
      const fd = new FormData(issueForm);
      const issue = {
        id: uid(),
        at: new Date().toISOString(),
        name: String(fd.get("name")||"").trim(),
        contact: String(fd.get("contact")||"").trim(),
        type: String(fd.get("type")||"").trim(),
        details: String(fd.get("details")||"").trim(),
        status: "open"
      };
      const all = loadIssues();
      all.unshift(issue);
      saveIssues(all);

      issueNote.textContent = "âœ… ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ù…Ø´ÙƒÙ„Ø©. Ù‡ØªØ¸Ù‡Ø± ÙÙŠ Ù„ÙˆØ­Ø© Ø§Ù„Ø£Ø¯Ù…Ù† ØªØ­Øª Issues.";
      issueForm.reset();
      setTimeout(()=> issueNote.textContent = "", 3000);
    });
  </script>
</body>
</html>
